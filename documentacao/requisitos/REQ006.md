# REQ006 — Gerenciar Agenda

**ESCOPO:** Visualizar agendamentos por dia, horário e profissional, administrar agendamentos (criar, editar, listar e cancelar) e criar agendamentos manuais.  
**PROPÓSITO:** Permitir que proprietários e barbeiros gerenciem a agenda da barbearia por meio de um calendário interativo, controlando a disponibilidade dos profissionais e evitando conflitos de horário.  
**ATOR:** Proprietário, Barbeiro  

---

## PRÉ-CONDIÇÕES
- O ator (proprietário ou barbeiro) deve estar autenticado no sistema.  
- O proprietário deve ter cadastrado pelo menos uma barbearia.  
- Os barbeiros devem estar cadastrados e vinculados à barbearia.  
- Os serviços devem estar cadastrados na barbearia.  

## PÓS-CONDIÇÕES
- A agenda do profissional é atualizada com o novo agendamento, alteração ou cancelamento.  
- O horário selecionado para um novo agendamento torna-se indisponível para o profissional correspondente.  

---

## FLUXO NORMAL
1. O proprietário ou barbeiro acessa o módulo **“Gerenciar Agenda”**.  
2. O sistema exibe um calendário com os filtros de seleção da barbearia, profissional e período desejado (dia ou semana).  
3. O ator seleciona os filtros desejados.  
4. O sistema exibe os horários disponíveis e os agendamentos existentes conforme o filtro aplicado.  
5. O ator executa a ação desejada: cria um novo agendamento, edita um existente ou cancela um agendamento.  
6. O sistema valida a disponibilidade e as regras de agendamento.  
7. O sistema atualiza a agenda conforme a ação realizada.  
8. O sistema exibe mensagem de sucesso confirmando a operação.  

---

## FLUXO DE EXCEÇÃO
**E1 — Tentativa de sobreposição de horário:**  
  O sistema não permite dois agendamentos no mesmo horário para o mesmo barbeiro e exibe mensagem de conflito.  

**E2 — Agendamento fora do horário válido:**  
  O sistema impede agendamentos fora do horário de funcionamento da barbearia ou do turno de trabalho do barbeiro e exibe mensagem informativa.  

**E3 — Falha na atualização da agenda:**  
  O sistema informa erro de persistência e orienta o usuário a tentar novamente.  

---

## FLUXO ALTERNATIVO
**A1 — Criação de agendamento manual:**  
  1. O proprietário clica em um horário vago no calendário.  
  2. O sistema abre o formulário de criação do agendamento.  
  3. O proprietário informa os dados do serviço, cliente e profissional.  
  4. O sistema registra o agendamento e o exibe na agenda.  

**A2 — Visualização dos agendamentos:**  
  1. O ator acessa o calendário e visualiza os agendamentos existentes.  
  2. O sistema permite filtrar por data, profissional e status.  

---

## REQUISITOS RELACIONADOS
- [**RF04:** Gerenciar Barbeiros](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#51-requisitos-funcionais)  
- [**RF05:** Cadastrar Serviços](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#51-requisitos-funcionais)  
- [**RF06:** Gerenciar Agenda](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#51-requisitos-funcionais)  
- [**RNF01:** Assegurar Desempenho](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#52-requisitos-n%C3%A3o-funcionais)  
- [**RNF05:** Manter Confiabilidade](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#52-requisitos-n%C3%A3o-funcionais)  
- [**RN04:** Evitar Conflitos de Horário](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#53-regras-de-neg%C3%B3cio)  
- [**RN05:** Permitir Agendamentos Apenas em Horários Válidos](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#53-regras-de-neg%C3%B3cio)  
