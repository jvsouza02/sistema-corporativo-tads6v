# REQ001 — Registrar Atendimento

ESCOPO: Registro dos atendimentos realizados pelos barbeiros, documentando os serviços executados, os produtos utilizados, o valor pago e as observações relevantes, mantendo o histórico de cada cliente.  
PROPÓSITO: Permitir que o barbeiro registre as informações do atendimento, incluindo o serviço executado, o valor fixo e observações, mantendo o histórico atualizado e apoiando o controle da barbearia de forma prática e padronizada.  
ATOR: Barbeiro  

---

## PRÉ-CONDIÇÕES
- O barbeiro deve estar autenticado no sistema.   
- Os serviços e produtos envolvidos devem existir no catálogo do sistema. 

---

## PÓS-CONDIÇÕES
- O atendimento é registrado ao barbeiro que executou o serviço.  
- O *valor_total* do atendimento é *calculado automaticamente* como soma dos preços dos serviços selecionados + soma dos preços dos produtos utilizados.  
- O atendimento passa a constar no histórico da barbearia (timestamp, autor e detalhes).

---

## FLUXO NORMAL
1. O barbeiro acessa o módulo “Registrar Atendimento”.  
2. O barbeiro preenche as informações como: tipo de serviço executado, produtos utilizados e observações sobre o atendimento.  
3. O barbeiro confirma clicando em “Salvar”.  
4. O sistema valida os dados inseridos.  
5. O sistema atribui automaticamente o valor ao atendimento.  
6. O sistema registra o atendimento e o associa ao histórico, incluindo o valor.  
7. O sistema exibe uma mensagem de sucesso confirmando a operação.

---

## FLUXO DE EXCEÇÃO
*E1 — Dados inválidos ou ausentes:*  
- O sistema informa quais campos obrigatórios estão inválidos (ex.: nenhum serviço selecionado) e solicita correção.

*E2 — Falha na persistência (salvamento):*  
- O sistema informa erro de salvamento, registra o erro no log e pede para o barbeiro tentar novamente.

---

## FLUXO ALTERNATIVO
A1 — Consulta de atendimentos anteriores:  
1. O barbeiro acessa o histórico.  
2. O sistema exibe os atendimentos anteriores, com serviço, valor e observações.  

A2 — Edição de atendimento existente:  
1. O barbeiro acessa um registro e seleciona “Editar”.  
2. Após ajustar as informações, confirma a alteração.  
3. O sistema atualiza o registro no histórico.  

A3 — Exclusão de atendimento:  
1. O barbeiro seleciona um atendimento e clica em “Excluir”.  
2. O sistema solicita confirmação.  
3. O registro é removido, preservando os demais dados.  

---


## REQUISITOS RELACIONADOS 
- [RF12: Gerar Relatórios Financeiros](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#51-requisitos-funcionais)  
- [RNF03: Implementar Segurança](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#52-requisitos-n%C3%A3o-funcionais)  
- [RNF05: Manter Confiabilidade](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#52-requisitos-n%C3%A3o-funcionais)  
- [RN07: Registrar Informações do Atendimento](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#53-regras-de-neg%C3%B3cio)  
- [RN09: Gerar Histórico de Atendimentos](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#53-regras-de-neg%C3%B3cio)  
- [RN11: Controlar o Acesso de Cada Tipo de Usuário](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#53-regras-de-neg%C3%B3cio)
