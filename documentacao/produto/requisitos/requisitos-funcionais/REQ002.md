# REQ002 — Gerenciar Barbearias

**ESCOPO:** Cadastro e listagem das barbearias pertencentes ao proprietário, permitindo o registro de novas unidades e a visualização/seleção das já cadastradas para acesso ao respectivo painel de gerenciamento.  
**PROPÓSITO:** Permitir que o proprietário registre informações essenciais de uma barbearia (nome, CNPJ, e-mail, endereço, telefone, horário de funcionamento, descrição e foto) e visualize todas as suas unidades cadastradas, de modo a gerenciar cada unidade de forma independente e acessar rapidamente o painel de gerenciamento de qualquer barbearia.  
**ATOR:** Proprietário  

---

## PRÉ-CONDIÇÕES
- O proprietário deve estar cadastrado e autenticado no sistema.  
- Ao cadastrar, o CNPJ e o e-mail informados não podem estar previamente registrados por outra barbearia.  

## PÓS-CONDIÇÕES
- A barbearia é criada com sucesso e vinculada ao proprietário.  
- O sistema atualiza a listagem de barbearias do proprietário.  
- O proprietário pode selecionar uma barbearia para acessar o painel de gerenciamento correspondente (após cadastro, o redirecionamento é automático para o painel).  

---

## FLUXO NORMAL
1. O proprietário acessa o módulo **“Minhas Barbearias”**.  
2. O sistema consulta as barbearias cadastradas vinculadas ao proprietário e exibe a lista (cada item apresenta: nome, endereço e foto) e a ação **Cadastrar Barbearia**.  
3. Se o proprietário optar por cadastrar, o sistema exibe o formulário com os campos obrigatórios: nome, CNPJ, e-mail, endereço, telefone, horário de funcionamento, descrição e foto.  
4. O proprietário preenche os campos e clica em **Salvar**.  
5. O sistema valida os dados inseridos e verifica unicidade de CNPJ e e-mail.  
6. Se válido, o sistema registra a nova barbearia.  
7. O sistema exibe mensagem de sucesso e atualiza a listagem.  
8. O sistema direciona o proprietário automaticamente ao **painel de gerenciamento da barbearia cadastrada**.  
9. Alternativamente, o proprietário pode selecionar qualquer barbearia listada para ser direcionado ao painel correspondente.  

---

## FLUXO DE EXCEÇÃO
**E1 — Campos obrigatórios não preenchidos:**  
  O sistema bloqueia o cadastro e exibe mensagens indicando quais campos devem ser preenchidos.  

**E2 — E-mail já cadastrado:**  
  O sistema impede o registro e exibe mensagem informando que o e-mail já está em uso.  

**E3 — CNPJ duplicado:**  
  O sistema bloqueia o cadastro e exibe mensagem informando que o CNPJ já está registrado.  

**E4 — Falha no salvamento:**  
  O sistema informa erro de persistência e orienta o proprietário a tentar novamente.  

**E5 — Nenhuma barbearia cadastrada / Falha na consulta:**  
  Se não houver barbearias vinculadas, o sistema exibe mensagem informando que não há unidades registradas e oferece a opção **Cadastrar Barbearia**. Caso ocorra erro ao carregar a listagem, o sistema informa o problema e solicita que o usuário tente novamente.  

---

## FLUXO ALTERNATIVO
**A1 — Consulta dos dados cadastrados / Atualização da listagem:**  
1. O proprietário acessa **Informações da Barbearia** após selecionar uma unidade ou acessa novamente o módulo **“Minhas Barbearias”**.  
2. O sistema exibe ou atualiza a lista com todos os dados registrados, incluindo foto e horário de funcionamento.  

---

## REQUISITOS RELACIONADOS
- [**RF01:** Cadastrar Proprietário](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#51-requisitos-funcionais)  
- [**RF02:** Cadastrar Barbearia](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#51-requisitos-funcionais)  
- [**RF03:** Listar Barbearias](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#51-requisitos-funcionais)  
- [**RNF01:** Assegurar Desempenho](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#52-requisitos-n%C3%A3o-funcionais)  
- [**RN03:** Gerenciar Várias Barbearias por Proprietário](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#53-regras-de-neg%C3%B3cio)  
- [**RN11:** Controlar o Acesso de Cada Tipo de Usuário](https://github.com/jvsouza02/sistema-corporativo-tads6v/blob/main/documentacao/documento_de_requisitos.md#53-regras-de-neg%C3%B3cio)  
