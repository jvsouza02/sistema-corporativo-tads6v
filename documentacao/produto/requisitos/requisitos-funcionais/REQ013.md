# REQ013 - Visualizar Histórico de Atendimento

**OBJETIVO:** Permitir que barbeiros e proprietários visualizem atendimentos já realizados.  
**ATOR:** Barbeiro, Proprietário  
**PRIORIDADE:** Média  

---

### PRÉ-CONDIÇÕES
- O usuário (barbeiro ou proprietário) deve estar autenticado.
- O usuário deve ter permissão de visualização para a barbearia em questão.

### PÓS-CONDIÇÕES
- O histórico de atendimentos da barbearia é exibido para o usuário.

---

### FLUXO PRINCIPAL
1. O usuário acessa a página de detalhes da barbearia.
2. O sistema busca os registros de atendimentos disponíveis para aquela barbearia, conforme as permissões do usuário.
3. O sistema organiza as informações (geralmente por data, do mais recente para o mais antigo).
4. O sistema mostra para cada atendimento: data, cliente, serviços prestados, produtos utilizados e valor total calculado.
5. O usuário visualiza os atendimentos.

---

### FLUXOS DE EXCEÇÃO
1. **Nenhum Atendimento Encontrado**  
1.1. Ainda não foi registrado nenhum atendimento para a barbearia selecionada.  
1.2. O sistema exibe uma mensagem informativa explicando que o histórico estará disponível após o primeiro atendimento registrado.  

2. **Erro ao Carregar Histórico**  
2.1. Ocorre uma falha na busca dos dados de atendimentos.  
2.2. O sistema exibe uma mensagem de erro e sugere ao usuário tentar novamente em alguns instantes ou, se persistir, entrar em contato com o suporte.  

3. **Acesso Não Autorizado**  
3.1. Um usuário (ex: um barbeiro) tenta acessar o histórico de atendimentos de uma barbearia à qual não está vinculado.  
3.2. O sistema restringe o acesso, exibe uma mensagem de permissão negada e redireciona o usuário para sua página apropriada (ex: sua própria barbearia ou dashboard).  

---

### REQUISITOS DE USUÁRIO RELACIONADOS
- **RF013 – Visualizar Histórico de Atendimento:** O sistema deve permitir que barbeiros e proprietários visualizem atendimentos realizados, contendo informações como data, cliente, serviços prestados, produtos utilizados e valor total calculado.
- **RNF003 – Assegurar desempenho adequado:** Listagens e operações principais devem apresentar tempo de resposta aceitável, especialmente para consultas paginadas.
