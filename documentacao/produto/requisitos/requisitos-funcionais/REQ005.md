# REQ005 - Registrar Atendimento

**ESCOPO:** Registro, edição e exclusão de atendimentos realizados pelos barbeiros.  
**PROPÓSITO:** Gerenciar o histórico completo de serviços prestados na barbearia.  
**ATOR:** Barbeiro  

---

### PRÉ-CONDIÇÕES
- Barbeiro autenticado.
- Barbeiro vinculado a uma barbearia.
- Pelo menos um serviço deve ser informado.

### PÓS-CONDIÇÕES
- Atendimento registrado, atualizado ou removido.
- Valor total processado corretamente.
- Histórico de atendimentos atualizado automaticamente.
- Redirecionamento com mensagem de status.

---

### FLUXO NORMAL
1. Barbeiro acessa os detalhes da barbearia onde trabalha.
2. O sistema mostra o histórico de atendimentos ordenado por data.
3. O barbeiro preenche formulário com:
   - Serviços prestados,
   - Produtos utilizados,
   - Valor total,
   - Comentários.
4. O sistema valida que pelo menos um serviço foi informado.
5. O sistema processa e formata o valor.
6. O sistema valida que o valor não é negativo.
7. Atendimento é registrado vinculado ao barbeiro e à barbearia.
8. Lista de atendimentos é atualizada em tempo real.

---

### FLUXO DE EXCEÇÃO
- **E1 – Nenhum serviço informado:** Sistema avisa que serviços são obrigatórios.  
- **E2 – Valor negativo:** Sistema avisa que valor não pode ser negativo.  
- **E3 – Valor não preenchido:** Sistema avisa que valor é obrigatório.  
- **E4 – Atendimento não existe:** Sistema avisa ao tentar editar ou excluir.  
- **E5 – Erro ao salvar:** Sistema informa detalhes do problema.

---

### REQUISITOS RELACIONADOS
- RF05: Registrar Atendimento  
- RN04: Registrar Informações de Atendimento  
- RN06: Restringir Acesso do Barbeiro  
- RNF01: Garantir Usabilidade
