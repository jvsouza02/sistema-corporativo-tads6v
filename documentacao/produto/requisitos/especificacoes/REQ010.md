# REQ010 - Realizar Agendamento

**OBJETIVO:** Permitir que o cliente escolha uma barbearia, data e horário para realizar um agendamento.  
**ATOR:** Cliente  
**PRIORIDADE:** Alta  

---

### PRÉ-CONDIÇÕES
- O cliente deve estar autenticado.
- Devem existir barbearias cadastradas e com horários de funcionamento definidos.

### PÓS-CONDIÇÕES
- O agendamento é registrado no sistema com status "agendado".

---

### FLUXO PRINCIPAL
1. O cliente acessa a página de agendamentos.
2. O sistema mostra as barbearias disponíveis.
3. O cliente seleciona uma barbearia.
4. O sistema permite que o cliente escolha uma data.
5. O sistema mostra os horários disponíveis no expediente da barbearia para a data selecionada, bloqueando os horários já agendados.
6. O cliente escolhe um horário disponível.
7. O sistema verifica a disponibilidade.
8. O sistema registra o agendamento com o status "agendado", sem associar a um barbeiro específico.
9. O sistema confirma o agendamento ao cliente.

---

### FLUXOS DE EXCEÇÃO
1. **Horário Indisponível**  
1.1. O cliente tenta confirmar um agendamento para um horário que acabou de ser reservado por outro cliente.  
1.2. O sistema informa sobre o conflito de horário, sugere horários alternativos próximos e o agendamento não é realizado.  

2. **Fora do Horário de Funcionamento**  
2.1. O cliente seleciona um horário que não está dentro do expediente configurado para a barbearia.  
2.2. O sistema informa que o horário é inválido e exibe novamente a faixa de horários correta.  
2.3. O agendamento não é realizado.  

3. **Data Passada**  
3.1. O cliente tenta agendar para uma data ou horário que já passou em relação ao momento atual.  
3.2. O sistema impede o agendamento retroativo e solicita a escolha de uma data futura.  

---

### REQUISITOS DE USUÁRIO RELACIONADOS
- **RF010 – Realizar Agendamento:** O sistema deve permitir que o cliente visualize barbearias e horários disponíveis com base no expediente da unidade e registre um agendamento selecionando data e horário desejados.
- **RN001 – Verificar disponibilidade de horário na barbearia:** Verifica se já existe outro agendamento marcado para o mesmo horário antes de confirmar um novo agendamento.
- **RN007 – Validar horário de agendamento:** Garante que o cliente só possa marcar horários dentro do período de funcionamento estabelecido pela barbearia.
- **RN008 – Impedir agendamento retroativo:** Não permite que o cliente agende um horário que já passou em relação ao momento atual.
